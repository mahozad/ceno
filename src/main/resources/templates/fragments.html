<!DOCTYPE html>
<html th:lang="${#locale}" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">

<!-- head -->
<head th:fragment="head(titleAppend)">
  <meta charset="UTF-8"/>
  <title th:text="#{name} + ${titleAppend}"></title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="author" content="Mahdi Hosseinzadeh, Babak Shahriari"/>
  <meta name="_csrf" th:content="${_csrf.token}"/>
  <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
  <meta name="theme-color" th:content="${#themes.code('primary-color')}"/>
  <link rel="icon" type="image/png" sizes="32x32" th:href="@{|/img/favicon-32x32-${#themes.code('name')}.png|}"/>
  <link rel="stylesheet" th:href="@{/css/main.min.css}"/>
  <style th:text="':root{'
        + '--primary-color:' + ${#themes.code('primary-color')} + ';'
        + '--secondary-color:' + ${#themes.code('secondary-color')} + ';'
        + '--tertiary-color:' + ${#themes.code('tertiary-color')} + ';' + '}'">
  </style>
  <script th:src="@{/webjars/jquery/jquery.min.js}" defer></script> <!-- todo: replace with cdn -->
  <script th:src="@{/js/main.min.js}" defer></script>
</head>

<body>

<!-- page prompt -->
<div class="page-prompt" th:fragment="prompt" th:if="${prompt != null}">
  <div class="page-prompt-text" th:text="#{${prompt}}"></div>
</div>

<!-- navigation bar -->
<nav th:fragment="navigation">
  <div class="nav-container">
    <div class="hamburger-icon hidden">&#9776;</div>
    <div class="side-nav">
      <div class="close-cat">&times;</div>
      <div class="vert-cat">
        <a th:href="@{/}" th:text="#{footer.home}"></a>
        <div th:replace="this::cats">Categories</div>
      </div>
    </div>
    <div class="logo-search-container">
      <a th:href="@{/}" th:title="#{name}">
        <svg class="brand-logo" viewBox="-318.727 77.5067 214.72746 190.0684" th:fragment="brand">
          <path
              d="m -211.82648,237.59703 0.102,-0.058 2.366,-1.284 0.073,-0.038 2.465,-1.232 0.076,-0.037 2.559,-1.176 0.078,-0.036 2.643,-1.115 0.081,-0.034 2.712,-1.047 0.083,-0.031 0.083,-0.03 2.761,-0.969 0.084,-0.027 2.781,-0.878 0.084,-0.024 2.769,-0.774 0.084,-0.021 2.727,-0.657 0.082,-0.018 2.657,-0.531 0.08,-0.015 2.567,-0.4 0.077,-0.011 2.466,-0.271 0.075,-0.008 0.072,-0.005 2.369,-0.153 0.07,-0.002 2.291,-0.053 h 0.068 l 4.465,0.088 0.148,0.005 4.522,0.156 0.152,0.005 2.34,0.041 h 0.078 l 2.402,-0.006 0.08,-0.001 2.458,-0.064 0.082,-0.003 2.502,-0.129 0.084,-0.005 2.531,-0.197 0.084,-0.007 2.545,-0.267 0.084,-0.01 2.546,-0.336 0.084,-0.012 2.536,-0.407 0.084,-0.014 2.521,-0.476 0.083,-0.016 2.502,-0.546 0.082,-0.018 2.481,-0.614 0.082,-0.021 2.458,-0.682 0.081,-0.023 0.086,-0.031 3.565,-1.337 0.088,-0.034 3.68,-1.465 0.089,-0.036 0.091,-0.038 3.775,-1.603 0.092,-0.041 3.812,-1.765 0.092,-0.044 1.886,-0.955 0.09,-0.048 1.845,-1.014 1.78,-1.082 0.086,-0.052 1.686,-1.157 0.068,-0.049 1.5617,-1.242 0.0317,-0.026 0.0298,-0.027 1.4085,-1.333 0.0278,-0.028 1.229,-1.429 0.0255,-0.029 0.0229,-0.031 0.5401,-0.75 0.0204,-0.032 0.4872,-0.775 0.4327,-0.797 0.025,-0.049 0.3768,-0.82 0.3202,-0.841 0.0189,-0.051 0.2633,-0.86 0.0129,-0.053 0.2067,-0.878 0.1509,-0.893 0.007,-0.054 0.1392,-1.821 0.001,-0.055 -0.0664,-1.849 -0.004,-0.056 -0.2555,-1.854 -0.009,-0.056 -0.4263,-1.835 -0.0134,-0.055 -0.0174,-0.055 -0.5781,-1.793 -0.0211,-0.053 -0.7124,-1.733 -0.0244,-0.051 -0.8319,-1.658 -0.0273,-0.048 -0.9399,-1.571 -0.0301,-0.046 -1.0391,-1.476 -0.0326,-0.044 -1.1323,-1.378 -0.0351,-0.041 -1.221,-1.276 -0.038,-0.038 -1.308,-1.174 -0.043,-0.039 -1.394,-1.071 -0.046,-0.036 -1.918,1.342 -0.072,0.049 -1.903,1.267 -0.106,0.067 -1.921,1.214 -1.938,1.16 -0.108,0.063 -1.956,1.107 -1.974,1.052 -0.109,0.058 -1.991,0.996 -0.111,0.053 -2.01,0.941 -2.027,0.884 -0.112,0.048 -2.044,0.827 -0.114,0.042 -2.061,0.77 -2.077,0.713 -0.115,0.038 -2.091,0.656 -0.076,0.022 -2.105,0.601 -0.075,0.02 -4.243,1.042 -0.077,0.018 -0.076,0.016 -4.276,0.837 -0.154,0.027 -4.295,0.648 -0.154,0.02 -4.3,0.473 -0.154,0.013 -4.297,0.311 -0.154,0.008 -4.285,0.161 -0.153,0.002 -4.271,0.02 -0.153,-0.003 -4.254,-0.114 -4.238,-0.245 -0.114,-0.006 -0.073,-0.004 -3.338,0.169 -0.064,0.003 -3.181,0.275 -0.117,0.01 -3.078,0.383 -0.113,0.015 -2.974,0.491 -0.108,0.019 -2.866,0.599 -0.105,0.023 -2.753,0.704 -0.1,0.028 -2.633,0.806 -0.095,0.031 -2.505,0.902 -0.09,0.035 -2.366,0.988 -0.084,0.038 -2.214,1.066 -0.077,0.041 -2.051,1.13 -0.071,0.043 -1.876,1.183 -0.064,0.045 -1.696,1.225 -0.057,0.046 -1.513,1.259 -0.05,0.047 -1.336,1.286 -0.043,0.048 -1.164,1.314 -0.999,1.352 -0.036,0.05 -0.837,1.411 -0.027,0.045 -0.022,0.049 -0.67,1.507 -0.269,0.805 -0.016,0.052 -0.222,0.846 -0.007,0.028 -0.173,0.892 -0.005,0.03 -0.124,0.941 -0.003,0.032 -0.072,0.994 -0.002,0.033 -0.02,1.046 v 0.034 l 0.033,1.095 0.002,0.036 0.086,1.14 0.008,0.075 0.138,1.175 0.188,1.202 0.014,0.078 0.522,2.434 0.019,0.078 0.7,2.388 0.025,0.075 0.411,1.143 0.014,0.036 0.448,1.091 0.015,0.034 0.484,1.028 0.016,0.031 0.516,0.955 0.018,0.029 0.548,0.872 0.018,0.027 0.578,0.783 0.019,0.024 0.607,0.691 0.02,0.021 0.636,0.593 0.021,0.018 0.663,0.495 0.022,0.015 0.691,0.395 0.022,0.012 0.719,0.295 0.023,0.009 0.745,0.193 0.024,0.006 2.199,-1.408 0.059,-0.037 z m 97.515,-94.487 0.427,1.838 0.009,0.056 0.257,1.855 0.004,0.057 0.067,1.849 -0.002,0.055 -0.138,1.82 -0.007,0.054 -0.151,0.892 -0.207,0.875 -0.013,0.053 -0.263,0.858 -0.019,0.051 -0.321,0.838 -0.377,0.816 -0.025,0.049 -0.433,0.793 -0.488,0.77 -0.021,0.031 -0.541,0.746 -0.023,0.03 -0.025,0.03 -1.231,1.416 -0.028,0.028 -1.411,1.321 -0.029,0.027 -0.032,0.026 -1.564,1.229 -0.068,0.048 -1.688,1.145 -0.086,0.052 -1.782,1.07 -1.847,1.006 -0.09,0.047 -1.888,0.95 -0.091,0.044 -3.812,1.764 -0.092,0.041 -3.773,1.617 -0.091,0.039 -0.09,0.037 -3.676,1.496 -0.087,0.035 -3.558,1.387 -0.085,0.033 -0.082,0.023 -2.457,0.68 -0.082,0.02 -2.481,0.613 -0.082,0.018 -2.503,0.545 -0.084,0.016 -2.523,0.477 -0.084,0.014 -2.539,0.409 -0.084,0.011 -2.55,0.339 -0.084,0.01 -2.549,0.269 -0.085,0.007 -2.535,0.199 -0.083,0.006 -2.506,0.13 -0.082,0.003 -2.46,0.064 -0.08,0.001 -2.402,0.005 -0.078,-0.001 -2.339,-0.044 -0.151,-0.005 -4.516,-0.166 -0.148,-0.004 -4.464,-0.093 h -0.068 l -2.296,0.056 -0.07,0.002 -2.379,0.162 -0.072,0.005 -0.075,0.008 -2.481,0.287 -0.078,0.012 -2.586,0.423 -0.08,0.016 -2.68,0.561 -0.082,0.019 -2.751,0.694 -0.084,0.022 -2.791,0.815 -0.085,0.026 -2.797,0.924 -0.085,0.029 -2.77,1.017 -0.084,0.031 -0.083,0.033 -2.712,1.098 -0.081,0.035 -2.632,1.168 -0.077,0.036 -2.535,1.229 -0.075,0.038 -2.428,1.284 -0.072,0.04 -2.314,1.335 -0.099,0.061 -2.199,1.385 -0.056,0.039 -2.118,1.459 -0.03,-0.004 -0.868,-0.102 -0.029,-0.008 -0.824,-0.217 -0.027,-0.011 -0.78,-0.332 -0.025,-0.016 -0.736,-0.446 -0.023,-0.019 -0.691,-0.559 -0.022,-0.023 -0.646,-0.67 -0.021,-0.027 -0.601,-0.776 -0.019,-0.03 -0.556,-0.878 -0.017,-0.034 -0.511,-0.972 -0.016,-0.036 -0.465,-1.057 -0.015,-0.039 -0.42,-1.131 -0.013,-0.041 -0.374,-1.19 -0.021,-0.086 -0.613,-2.501 -0.015,-0.088 -0.43,-2.56 -0.009,-0.086 -0.25,-2.499 -0.002,-0.041 -0.057,-1.195 v -0.04 l -0.013,-1.145 0.001,-0.038 0.032,-1.089 0.003,-0.036 0.076,-1.03 0.005,-0.033 0.12,-0.971 0.006,-0.032 0.164,-0.914 0.007,-0.029 0.207,-0.862 0.009,-0.028 0.251,-0.815 0.022,-0.052 0.63,-1.519 0.028,-0.049 0.803,-1.416 0.034,-0.047 0.977,-1.358 0.039,-0.046 1.155,-1.327 0.046,-0.045 1.336,-1.303 0.052,-0.044 1.519,-1.278 0.059,-0.043 1.703,-1.245 0.065,-0.041 1.882,-1.2 0.071,-0.04 2.054,-1.143 0.077,-0.037 2.217,-1.075 0.081,-0.034 2.369,-0.996 0.087,-0.031 2.509,-0.906 0.092,-0.028 2.641,-0.809 0.096,-0.024 2.766,-0.707 0.099,-0.02 2.884,-0.601 0.103,-0.017 2.998,-0.492 0.107,-0.014 3.108,-0.384 0.111,-0.009 3.216,-0.276 3.324,-0.167 0.115,-0.006 0.072,0.004 0.083,0.005 4.227,0.236 4.246,0.108 0.156,0.003 4.263,-0.025 0.157,-0.002 4.279,-0.165 0.157,-0.007 4.292,-0.314 0.158,-0.013 4.297,-0.475 0.158,-0.02 4.292,-0.649 0.158,-0.027 4.274,-0.838 0.078,-0.016 0.078,-0.019 4.242,-1.041 0.078,-0.02 2.104,-0.601 0.078,-0.022 2.091,-0.657 0.076,-0.024 2.077,-0.713 0.076,-0.026 2.061,-0.77 0.094,-0.036 2.044,-0.827 0.093,-0.04 2.027,-0.884 2.009,-0.94 0.092,-0.044 1.991,-0.996 0.091,-0.047 1.973,-1.052 0.09,-0.05 1.955,-1.107 1.937,-1.16 0.089,-0.054 1.92,-1.214 0.088,-0.057 1.902,-1.266 0.054,-0.038 1.917,-1.341 0.046,0.035 1.393,1.068 0.043,0.038 1.307,1.172 0.038,0.038 1.221,1.274 0.035,0.041 1.132,1.377 0.032,0.044 1.04,1.477 0.03,0.046 0.94,1.572 0.027,0.049 0.833,1.66 0.024,0.051 0.714,1.736 0.021,0.053 0.579,1.796 0.017,0.055 z m -123.412,90.91 0.058,0.009 3.451,0.333 0.058,0.006 3.465,0.111 0.059,0.002 1.884,0.11 0.032,0.002 1.858,0.327 0.031,0.006 1.808,0.541 0.03,0.009 1.733,0.747 0.029,0.013 1.634,0.943 0.028,0.016 1.513,1.127 0.026,0.019 1.372,1.295 0.024,0.022 1.212,1.445 0.021,0.025 1.037,1.576 0.017,0.027 0.847,1.686 0.015,0.029 0.645,1.773 0.011,0.03 0.435,1.836 0.007,0.031 0.219,1.874 0.004,0.032 v 1.886 0.032 l -0.219,1.874 -0.004,0.032 -0.435,1.8361 -0.007,0.0312 -0.646,1.773 -0.01,0.03 -0.847,1.6861 -0.015,0.0286 -1.036,1.5764 -0.018,0.0267 -1.213,1.4454 -0.02,0.0245 -1.373,1.2948 -0.023,0.0219 -1.513,1.1268 -0.026,0.019 -1.634,0.9434 -0.028,0.016 -1.732,0.7474 -0.03,0.0126 -1.807,0.5412 -0.031,0.009 -1.858,0.3277 -0.031,0.005 -1.884,0.1097 -0.032,0.002 -4.383,-0.1111 -0.074,-0.002 -4.372,-0.3329 -0.074,-0.006 -4.349,-0.5539 -0.074,-0.009 -4.315,-0.7735 -0.073,-0.0131 -4.271,-0.991 -0.072,-0.0168 -4.216,-1.2061 -0.071,-0.0204 -4.149,-1.4181 -0.07,-0.024 -4.071,-1.6263 -0.069,-0.0276 -3.984,-1.8305 -0.068,-0.031 -3.886,-2.0299 -0.066,-0.0344 -3.778,-2.2245 -0.064,-0.037 -3.661,-2.413 -0.062,-0.041 -3.533,-2.595 -0.06,-0.044 -3.398,-2.77 -0.058,-0.047 -3.253,-2.939 -0.055,-0.05 -3.1,-3.1 -0.053,-0.053 -2.939,-3.253 -0.05,-0.055 -2.77,-3.398 -0.047,-0.058 -2.595,-3.534 -0.044,-0.059 -2.413,-3.661 -0.041,-0.062 -2.224,-3.778 -0.038,-0.064 -2.029,-3.886 -0.035,-0.066 -1.83,-3.984 -0.031,-0.068 -1.627,-4.071 -0.027,-0.069 -1.418,-4.149 -0.024,-0.07 -1.206,-4.215 -0.021,-0.072 -0.991,-4.27 -0.017,-0.073 -0.773,-4.315 -0.013,-0.073 -0.554,-4.349 -0.01,-0.074 -0.332,-4.372 -0.006,-0.074 -0.111,-4.383 -0.002,-0.074 0.111,-4.383 0.002,-0.074 0.333,-4.372 0.005,-0.074 0.554,-4.349 0.01,-0.074 0.773,-4.315 0.013,-0.073 0.991,-4.271 0.017,-0.072 1.206,-4.216 0.021,-0.071 1.418,-4.149 0.024,-0.07 1.626,-4.071 0.028,-0.069 1.83,-3.984 0.031,-0.068 2.03,-3.886 0.034,-0.066 2.225,-3.778 0.037,-0.064 2.413,-3.661 0.041,-0.062 2.595,-3.533 0.044,-0.06 2.77,-3.398 0.047,-0.058 2.939,-3.253 0.05,-0.055 3.1,-3.1 0.053,-0.053 3.253,-2.939 0.055,-0.05 3.398,-2.77 0.058,-0.047 3.534,-2.595 0.059,-0.044 3.661,-2.413 0.062,-0.041 3.778,-2.224 0.064,-0.038 3.886,-2.029 0.066,-0.035 3.984,-1.83 0.068,-0.031 4.071,-1.627 0.069,-0.027 4.149,-1.418 0.07,-0.024 4.215,-1.206 0.072,-0.021 4.27,-0.991 0.073,-0.017 4.315,-0.773 0.073,-0.013 4.349,-0.554 0.074,-0.01 4.372,-0.332 0.074,-0.006 4.383,-0.111 0.074,-0.002 0.069,0.004 4.096,0.222 0.083,0.004 3.964,0.194 0.215,0.01 3.902,0.171 3.837,0.148 0.209,0.007 3.771,0.124 3.7,0.098 0.203,0.006 3.625,0.074 0.1,0.001 3.543,0.049 0.097,0.001 0.096,0.001 3.454,0.022 h 0.093 l 3.355,-0.004 0.135,-0.001 3.243,-0.03 0.129,-0.003 3.117,-0.058 0.062,-0.002 2.975,-0.086 0.061,-0.002 0.058,-0.002 2.82,-0.115 0.056,-0.002 2.652,-0.146 0.089,-0.005 2.479,-0.179 0.083,-0.007 2.306,-0.216 0.077,-0.008 2.143,-0.26 0.072,-0.009 2.003,-0.311 0.067,-0.012 1.896,-0.373 0.064,-0.014 1.833,-0.446002 0.063,-0.016 1.819,-0.531 0.063,-0.02 1.855,-0.629 0.051,-0.018 1.938,-0.737 0.054,-0.02 0.056,-0.024 2.061,-0.853 0.059,-0.026 2.212,-0.975 0.064,-0.029 1.17,-0.535 1.215,-0.567 0.067,-0.032 1.263,-0.599 0.071,-0.035 1.311,-0.631 1.359,-0.664 0.076,-0.037 1.41,-0.697 0.08,-0.04 1.46,-0.729 1.51,-0.761 0.085,-0.043 1.561,-0.794 1.611,-0.826 0.089,-0.046 1.663,-0.858 0.064,-0.033 1.742,-0.906 0.026,0.015 0.04,0.023 1.484,0.829 1.377,0.869 0.06,0.04 1.268,0.908 0.053,0.043 1.16,0.948 1.05,0.987 0.046,0.045 0.94,1.026 0.041,0.047 0.829,1.064 0.034,0.049 0.721,1.1 0.028,0.051 0.613,1.134 0.508,1.163 0.022,0.053 0.409,1.188 0.016,0.054 0.315,1.208 0.01,0.055 0.227,1.221002 0.146,1.227 0.006,0.055 0.072,1.226 0.002,0.054 0.004,1.218 -0.002,0.055 -0.059,1.203 -0.118,1.184 -0.005,0.053 -0.175,1.16 -0.009,0.051 -0.23,1.131 -0.012,0.05 -0.287,1.1 -0.016,0.052 -0.345,1.067 -0.404,1.032 -0.021,0.049 -0.465,0.997 -0.025,0.046 -0.529,0.961 -0.594,0.924 -0.03,0.044 -0.659,0.887 -0.034,0.042 -0.725,0.851 -0.038,0.04 -0.791,0.815 -0.857,0.779 -0.042,0.037 -0.922,0.744 -0.03,0.022 -1.003,0.721 -0.038,0.021 -0.045,0.026 -2.186,1.256 -2.239,1.211 -0.085,0.046 -2.293,1.165 -0.087,0.044 -2.346,1.118 -0.089,0.042 -2.398,1.07 -0.092,0.039 -2.447,1.019 -0.094,0.038 -2.493,0.964 -0.096,0.035 -2.534,0.904 -0.097,0.033 -2.568,0.838 -0.098,0.03 -2.594,0.766 -0.099,0.026 -2.61,0.688 -2.621,0.602 -0.099,0.023 -2.624,0.513 -0.1,0.018 -2.626,0.421 -0.1,0.015 -2.629,0.329 -0.1,0.011 -2.641,0.24 -0.1,0.008 -2.662,0.159 -0.102,0.005 -2.699,0.087 -0.152,0.002 -2.754,0.027 -2.827,-0.023 h -0.078 l -0.08,-0.002 -2.918,-0.058 -0.083,-0.003 -3.026,-0.083 -0.085,-0.003 -3.148,-0.099 -0.088,-0.002 -3.282,-0.106 -0.091,-0.003 -0.094,-0.002 -3.423,-0.106 -0.098,-0.003 -3.569,-0.1 -0.101,-0.003 -3.72,-0.092 -0.103,-0.002 -3.871,-0.081 -0.108,-0.003 -0.11,-0.002 -4.023,-0.068 -0.114,-0.001 -4.174,-0.055 -0.118,-0.001 -4.325,-0.041 -0.121,-0.001 -4.475,-0.026 -0.124,-0.001 -3.465,0.111 -0.059,0.002 -3.451,0.333 -0.058,0.006 -3.423,0.553 -0.058,0.009 -3.38,0.772 -0.057,0.013 -3.324,0.986 -0.056,0.017 -3.254,1.197 -0.055,0.021 -3.17,1.403 -0.054,0.024 -3.073,1.603 -0.052,0.027 -2.965,1.798 -0.05,0.03 -2.844,1.984 -0.048,0.033 -2.711,2.162 -0.046,0.036 -2.566,2.331 -0.044,0.04 -2.411,2.49 -0.041,0.042 -2.248,2.64 -0.038,0.045 -2.073,2.778 -0.035,0.048 -1.892,2.905 -0.032,0.049 -1.701,3.021 -0.029,0.051 -1.504,3.124 -0.026,0.053 -1.301,3.213 -0.022,0.055 -1.092,3.29 -0.019,0.056 -0.879,3.354 -0.015,0.056 -0.663,3.403 -0.011,0.058 -0.443,3.438 -0.008,0.059 -0.222,3.46 -0.004,0.058 v 3.467 0.059 l 0.222,3.46 0.004,0.058 0.443,3.439 0.008,0.058 0.663,3.403 0.011,0.058 0.879,3.353 0.015,0.057 1.093,3.29 0.018,0.056 1.301,3.214 0.022,0.054 1.505,3.124 0.025,0.053 1.701,3.02 0.029,0.052 1.891,2.905 0.033,0.049 2.073,2.779 0.035,0.047 2.248,2.64 0.038,0.045 2.412,2.49 0.04,0.042 2.567,2.331 0.043,0.04 2.711,2.161 0.046,0.037 2.843,1.983 0.049,0.034 2.964,1.797 0.051,0.031 3.073,1.603 0.052,0.027 3.171,1.404 0.053,0.023 3.254,1.198 0.055,0.02 3.324,0.986 0.056,0.017 3.38,0.772 0.057,0.013 z"></path>
        </svg>
      </a>
      <div class="search-container">
        <form class="search-form" th:action="@{/search}">
          <label for="search-field"></label>
          <input id="search-field" class="search-input" type="text" name="q" autocomplete="off"
                 th:placeholder="#{search-placeholder}" aria-label="search"/>
          <button type="submit" class="search-button">
            <svg viewBox="0 0 72 72" class="search-icon">
              <g transform="translate(-13.999989,-966.36219)">
                <path
                    d="m 42.998529,966.36219 c -15.97982,0 -28.99854,13.01861 -28.99854,28.99854 0,15.97987 13.0187,28.99857 28.99854,28.99857 6.91114,0 13.25932,-2.4431 18.24908,-6.4997 l 19.62402,19.624 c 1.17141,1.1714 3.0783,1.1715 4.24978,0 1.17147,-1.1715 1.17147,-3.0471 0,-4.2185 l -19.62401,-19.624 c 4.06479,-4.9923 6.49967,-11.3615 6.49967,-18.28037 0,-15.97993 -13.01871,-28.99854 -28.99854,-28.99854 z m 0,5.9997 c 12.73733,0 22.99884,10.26142 22.99884,22.99884 0,12.73727 -10.26153,22.99887 -22.99884,22.99887 -12.73731,0 -22.99884,-10.2616 -22.99884,-22.99887 0,-12.73742 10.26151,-22.99884 22.99884,-22.99884 z"></path>
              </g>
            </svg>
          </button>
        </form>
      </div>
    </div>
    <div class="cat-container">
      <a th:fragment="cats" th:each="category:${T(ir.ceno.model.Category.HomepageCategory).values()}"
         th:href="@{|/categories/${category.name().toLowerCase()}|}" th:text="#{${category.name().toLowerCase()}}"
         th:classappend="${#httpServletRequest.requestURI.endsWith(category.name().toLowerCase())} ? ' active'">
      </a>
    </div>
    <div class="usr">
      <div class="usr-log" sec:authorize="!isAuthenticated()">
        <a id="log-in" th:text="#{log-in}">Log in</a>
        <a id="sign-up" th:text="#{sign-up}">Sing up</a>
      </div>
      <div class="usr-inf-container" sec:authorize="isAuthenticated()">
        <a id="new-post" class="btn" th:href="@{/posts/new}" th:text="#{new-post}"></a>
        <div class="author-inf-nav">
          <img class="card-avatar" th:alt="${#authentication.principal.username}"
               onerror="this.src='/img/placeholder.svg'"
               th:src="@{|/users/avatars/${#authentication.principal.username}|}"/>
          <div class="author">
            <div class="usr-name" th:text="${#authentication.principal.username}"></div>
            <div class="score" th:include="this::score" th:with="score=${#authentication.principal.score}"></div>
          </div>
        </div>
        <form th:action="@{/logout}" method="post" th:title="#{log-out}">
          <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
          <svg viewBox="0 0 105 100" class="logout">
            <path
                d=" M 42.47 10.75 C 53.11 8.72 64.72 11.05 73.31 17.76 C 75.80 19.79 73.06 24.36 70.09 23.12 C 67.31 21.89 64.88 19.99 62.01 18.95 C 50.90 14.51 37.55 16.79 28.46 24.54 C 17.12 33.85 13.40 50.96 19.83 64.15 C 25.76 77.28 40.88 85.36 55.11 82.91 C 60.58 82.27 65.35 79.44 70.09 76.88 C 73.01 75.51 75.83 80.23 73.32 82.24 C 61.42 91.49 44.08 92.37 30.97 85.14 C 21.24 79.87 13.83 70.45 11.21 59.68 C 8.79 50.08 10.10 39.59 14.87 30.92 C 20.46 20.54 30.88 12.90 42.47 10.75 Z"></path>
            <path
                d=" M 73.76 38.18 C 72.15 35.85 74.89 32.45 77.53 33.46 C 80.44 35.08 82.43 37.91 84.86 40.15 C 87.61 43.14 90.95 45.63 93.24 49.02 C 93.96 51.32 91.72 52.88 90.39 54.36 C 86.21 58.20 82.56 62.61 78.20 66.26 C 75.67 68.14 71.81 64.39 73.72 61.83 C 76.15 58.69 79.26 56.16 81.97 53.27 C 69.95 53.16 57.92 53.46 45.91 53.14 C 42.40 52.96 42.55 46.87 46.03 46.77 C 57.98 46.50 69.95 46.76 81.90 46.66 C 79.26 43.77 76.14 41.30 73.76 38.18 Z"></path>
          </svg>
        </form>
      </div>
    </div>
  </div>
</nav>

<!-- login and sign up -->
<div th:fragment="login-dialog" id="login-dialog" sec:authorize="!isAuthenticated()">
  <div class="log-form">
    <span class="close">&times;</span>
    <div id="register-wrapper">
      <form class="register-form" th:action="@{/register}" method="post" enctype="multipart/form-data" novalidate>
        <div class="input">
          <input id="log-name" class="flat-inp" type="text" name="username" required autocomplete="off"/>
          <span class="highlight"></span>
          <label for="log-name" class="label" th:text="#{username}">Username</label>
          <div class="prompt" th:text="#{prompt.already-taken}">Already taken</div>
        </div>
        <div class="input">
          <input id="log-pass" class="flat-inp" type="password" name="password" required/>
          <span class="highlight"></span>
          <label for="log-pass" class="label" th:text="#{password}">Password</label>
          <div class="prompt" th:text="#{prompt.invalid}">Invalid</div>
        </div>
        <div class="avatar-upload">
          <img th:src="@{/img/placeholder.svg}" alt="avatar"/>
          <label class="file-upload">
            <input type="file" name="avatar" accept="image/*"/>
            <span th:text="#{avatar.change}">Change avatar</span>
          </label>
        </div>
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
        <button class="btn" type="submit" th:text="#{sign-up}">Sign up</button>
        <p th:utext="#{prompt.log-in('<span class=log-prompt>', '</span>')}"></p>
      </form>
    </div>
    <div id="login-wrapper">
      <div class="login-form">
        <div class="input">
          <input id="reg-name" class="flat-inp" type="text" name="username" required autocomplete="off"/>
          <span class="highlight"></span>
          <label for="reg-name" class="label" th:text="#{username}">Username</label>
          <div class="prompt" th:text="#{prompt.required}">Required</div>
        </div>
        <div class="input">
          <input id="reg-pass" class="flat-inp" type="password" name="password" required/>
          <span class="highlight"></span>
          <label for="reg-pass" class="label" th:text="#{password}">Password</label>
          <div class="prompt" th:text="#{prompt.required}">Required</div>
        </div>

        <div class="check-box remember-me">
          <input type="checkbox" name="remember-me" id="remember-me">
          <label for="remember-me">Remember me</label>
        </div>

        <div class="invalid-login" th:text="#{prompt.login-fail}">Login failed</div>
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
        <button class="btn" type="submit" th:text="#{log-in}">Log in</button>
        <p th:utext="#{prompt.sign-up('<span class=log-prompt>', '</span>')}"></p>
      </div>
    </div>
  </div>
</div>

<!-- card top section -->
<div class="top-container" th:fragment="card-top-section">
  <header class="card-header">
    <div class="author-info">
      <img class="card-avatar" onerror="this.src='/img/placeholder.svg'"
           th:src=" ${'/users/avatars/' + post.author.username}" th:alt="${post.author.username}"/>
      <div class="author">
        <div class="usr-name" th:text="${post.author.username}">Username</div>
        <div class="score" th:fragment="score" th:with="score=${post.author.score}">
          <span th:text="${score}">Score</span>
          <img th:if="${score lt 100}" title="Novice!" th:title="#{novice}"
               th:src="@{/img/ic-medal-beginner.svg}" alt="medal"/>
          <img th:if="${score gt 99 and score lt 1000}" alt="medal" th:src="@{/img/ic-medal-bronze.svg}"/>
          <img th:if="${score gt 999 and score lt 50000 }" th:src="@{/img/ic-medal-silver.svg}" alt="medal"/>
          <img th:if="${score gt 49999}" th:src="@{/img/ic-medal-gold.svg}" alt="medal"/>
        </div>
      </div>
    </div>
    <div class="status-icons">
      <div class="meters" th:fragment="card-like">
        <div class="like-num" th:text="${post.likesCount}">Likes count</div>
        <div class="heart" sec:authorize="isAuthenticated()"
             th:classappend="${#authentication.principal.favorites.contains(post)} ? 'liked' : 'not-liked'">
        </div>
        <div class="heart-static" sec:authorize="!isAuthenticated()" th:title="#{prompt.not-logged-in}"></div>
      </div>
      <svg class="hot-icon" viewBox="0 0 71 90"
           th:if="${post.commentsCount} >= ${T(ir.ceno.model.Post).COMMENTS_COUNT_TO_BE_HOT}">
        <title th:text="${post.commentsCount + ' '} + #{comments}">Hot!</title>
        <path
            d="m 39.715,0 c 0,0 -5.776,3.879 -4.934,11.329 0.793,7.021 3.832,10.488 3.832,10.488 0,0 4.692,-3.166 2.183,-11.683 C 39.693,6.39 38.877,5.988 39.715,0 Z"></path>
        <path
            d="m 46.902,13.322 c 0,0 0.441,2.288 -1.142,5.898 -1.586,3.608 2.197,6.776 2.197,6.776 0,0 5.722,-6.25 -1.055,-12.674 z"></path>
        <path
            d="M 65.31,52.568 C 60.734,67.18 55.629,69.38 55.629,69.38 69.976,42.36 44.099,24.931 44.099,24.931 c 12.06,16.987 2.992,31.512 2.992,31.512 0,0 5.633,-12.06 -8.802,-24.733 C 22.184,16.834 30.191,4.601 30.191,4.601 16.023,9.441 15.582,22.205 18.483,27.309 26.846,41.215 23.59,47.995 23.59,47.995 23.413,44.913 21.126,42.624 13.91,37.431 6.691,32.238 11.177,22.732 11.177,22.732 6.516,25.637 2.378,35.142 8.011,41.745 18.309,54.595 9.771,61.988 9.771,61.988 13.204,47.729 0,44.56 0,44.56 10.211,52.834 0.795,58.996 2.377,68.675 5.369,91.474 31.599,89.98 31.599,89.98 c 0.747,-0.007 1.452,-0.053 2.166,-0.09 -9.865,-0.025 -12.61,-6.185 -10.173,-8.542 0,0 4.004,-3.469 -0.827,-9.497 -2.643,-3.101 -0.701,-7.56 1.486,-8.921 0,0 -2.105,4.459 1.281,6.896 3.387,2.437 4.461,3.509 4.542,4.955 0,0 1.528,-3.182 -2.396,-9.704 -1.361,-2.393 -1.155,-8.383 5.494,-10.653 0,0 -3.758,5.738 3.798,12.72 6.772,5.943 4.131,11.604 4.131,11.604 0,0 4.253,-6.814 -1.405,-14.786 0,0 12.143,8.18 5.412,20.855 0,0 -1.569,3.591 -7.495,4.726 C 67.716,85.39 65.31,52.568 65.31,52.568 Z"></path>
      </svg>
      <div class="share-container">
        <svg class="share-icon" viewBox="0 0 70 78">
          <path
              d="m 57.1,25.800004 c 7.1,0 12.9,-5.8 12.9,-12.9 C 70,5.799997 64.2,0 57.1,0 50,0 44.2,5.799997 44.2,12.900004 c 0,1.4 0.2,2.7 0.6,3.9 l -22.3,12.9 c -2.4,-2.6 -5.8,-4.2 -9.5,-4.2 -7.2,0 -13,5.8 -13,12.9 0,7.1 5.8,12.9 12.9,12.9 3.8,0 7.2,-1.6 9.5,-4.2 l 22.3,12.9 c -0.4,1.2 -0.6,2.6 -0.6,3.9 0,7.1 5.8,12.9 12.9,12.9 7.1,0 12.9,-5.8 12.9,-12.9 0,-7.1 -5.8,-12.9 -12.9,-12.9 -3.8,0 -7.2,1.6 -9.5,4.2 l -22.3,-12.9 c 0.4,-1.2 0.6,-2.6 0.6,-3.9 0,-1.4 -0.2,-2.7 -0.6,-3.9 l 22.3,-12.9 c 2.4,2.6 5.8,4.2 9.6,4.2 z"></path>
        </svg>
        <div class="share-content">
          <div class="arrow"></div>
          <a th:fragment="share" th:each="share:${T(ir.ceno.model.Post.ShareUrl).values()}"
             th:href="${share.url + post.url}" target="_blank" rel="noopener">
            <img th:src="@{|/img/ic-soc-${share.name}.svg|}" th:alt="${share.name}"
                 th:title="${'Share on ' + share.name}"/>
          </a>
        </div>
      </div>
    </div>
  </header>
  <div th:fragment="card-file">
    <img th:if="${post.fileDetails.type.name() == 'IMAGE'}" class="card-img"
         th:src="@{|/posts/images/${post.id}|}" alt="cover" onerror="this.src='/img/placeholder-img.svg'"/>

    <div th:if="${post.fileDetails.type.name() == 'VIDEO'}" class="video-container">
      <video class="card-video" loop preload="metadata">
        <source th:src="@{|/posts/videos/${post.id}|}"/>
        <span th:text="#{prompt.video-not-supported}"></span>
      </video>
      <div class="ply-btn">
        <button class="ply-ico" aria-label="play"></button>
      </div>
      <progress max="100" value="0" class="prog-bar"></progress>
    </div>
  </div>
  <article th:fragment="card-article">
    <h1 th:text="${post.title}">Title</h1>
    <p th:text="${post.summary}">Summary</p>
  </article>
</div>

<!-- card chips -->
<div class="chips-container" th:fragment="card-chips">
  <div th:each="cat:${post.categories}">
    <a class="chip" th:text="${cat.name}" th:href="@{|/categories/${cat.name}|}"></a>
  </div>
</div>

<!-- card read more -->
<a class="read-more" th:fragment="card-read-more" th:href="@{|/posts/${post.url}|}" th:text="#{card.read-more}"></a>

<!-- card date -->
<div class="card-date" th:fragment="card-datetime" th:text="${@dateTimeFormatter.formatPostDataTime(post)}"></div>

<!-- footer -->
<footer class="page-footer" th:fragment="footer">
  <div class="footer-container">
    <div class="up-foot">
      <div class="foot-links">
        <div class="foot-follow-us">
          <span class="follow-prompt" th:text="#{footer.follow}">Follow Ceno</span>
          <a th:href="@{http://www.facebook.com/ceno}" target="_blank" rel="noopener">
            <img class="follow-us-image" alt="facebook" th:src="@{/img/ic-soc-facebook.svg}"/>
          </a>
          <a th:href="@{http://www.twitter.com/ceno}" target="_blank" rel="noopener">
            <img class="follow-us-image" alt="twitter" th:src="@{/img/ic-soc-twitter.svg}">
          </a>
          <a th:if="${#httpServletRequest.requestURI.startsWith('/categories')} " th:href="@{|/rss/${catName}|}">
            <!--suppress RequiredAttributes -->
            <img class="follow-us-rss" alt="rss" th:src="@{/img/ic-rss.svg}"/>
          </a>
        </div>
        <div class="foot-preferences">
          <div class="theme-choose">
            <span class="theme-prompt" th:text="#{footer.select-theme}"></span>
            <div class="themes">
              <div class="theme theme-cyan" data-theme-name="cyan"
                   th:classappend="${#themes.code('name') == 'cyan'}?'theme-active'">
              </div>
              <div class="theme theme-orange" data-theme-name="orange"
                   th:classappend="${#themes.code('name') == 'orange'}?'theme-active'">
              </div>
              <div class="theme theme-pink" data-theme-name="pink"
                   th:classappend="${#themes.code('name') == 'pink'}?'theme-active'">
              </div>
            </div>
          </div>
          <div class="lang-prompt" th:text="#{footer.select-lang}"></div>
          <div class="langs">
            <div class="lang" data-lang-name="en">
              <img class="lang-flag" th:src="@{/img/ic-lang-en.png}" alt="english"/>
              <span class="lang-name">English</span>
            </div>
            <div class="lang" data-lang-name="fa">
              <img class="lang-flag" th:src="@{/img/ic-lang-fa.png}" alt="farsi"/>
              <span class="lang-name">فارسی</span>
            </div>
          </div>
        </div>
        <div class="foot-sec-1">
          <a th:href="@{/}" th:text="#{footer.home}"></a>
          <a th:href="@{/about}" th:text="#{footer.about}"></a>
          <a th:href="@{/contact}" th:text="#{footer.contact-us}"></a>
          <a th:href="@{/ads}" th:text="#{footer.ads}"></a>
        </div>
        <div class="foot-sec-2">
          <a th:href="@{/faq}" th:text="#{footer.faq}"></a>
          <a th:href="@{/help}" th:text="#{footer.help}"></a>
          <a th:href="@{/tos}" th:text="#{footer.tos}"></a>
          <a th:href="@{/privacy}" th:text="#{footer.policy}"></a>
        </div>
      </div>
    </div>
  </div>
  <div class="copyright" th:text="' © ' + #{name} + ${' ' + T(java.time.LocalDate).now().getYear()}"></div>
</footer>

</body>
</html>
