{"version":3,"sources":["main.js"],"names":[],"mappings":"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","file":"main.min.js","sourcesContent":["const $body = $(\"body\");\r\nconst primaryColor = $(\"html\").css(\"--primary-color\");\r\nconst $pagePrompt = $(\".page-prompt\");\r\n\r\nenableCSSAnimations();\r\nshowCookieConsentMessage();\r\n\r\nfunction showCookieConsentMessage() {\r\n    if (!localStorage.isCookieConsentMessageShown) {\r\n        showPrompt(\"Ceno uses cookies to provide the best browsing experience for you\");\r\n    }\r\n    localStorage.isCookieConsentMessageShown = false;\r\n}\r\n\r\nfunction enableCSSAnimations() {\r\n    // This should be done after the page is fully loaded;\r\n    // we know that the page is fully loaded because the script is deferred.\r\n    $body.removeClass(\"preload\");\r\n}\r\n\r\nfunction showPrompt(message) {\r\n    // Remove the prompt from page if it already exists\r\n    if ($pagePrompt.length > 0) $pagePrompt.remove();\r\n\r\n    let pagePromptHTML =\r\n        \"<div class='page-prompt'>\" +\r\n        \"  <div class='page-prompt-text'>\" + message + \"</div>\" +\r\n        \"</div>\";\r\n\r\n    $(\"main\").prepend(pagePromptHTML);\r\n}\r\n\r\n//================= Login modal =================\\\\\r\nvar closeBtn = $(\".close\");\r\nvar loginDialog = $(\"#login-dialog\");\r\nvar loginWrapper = $(\"#login-wrapper\");\r\nvar registerWrapper = $(\"#register-wrapper\");\r\n\r\n$(\"#log-in\").on(\"click touch\", () => showModal(loginWrapper, registerWrapper));\r\n$(\"#sign-up\").on(\"click touch\", () => showModal(registerWrapper, loginWrapper));\r\n\r\nfunction showModal(toShow, toHide) {\r\n    toHide.hide();\r\n    loginDialog.show();\r\n    toShow.slideDown(350);\r\n}\r\n\r\n$(window).add(closeBtn).click(function (event) {\r\n    if (event.target === loginDialog[0] || event.target === closeBtn[0]) {\r\n        loginDialog.fadeOut(200, function () {\r\n            registerWrapper.hide();\r\n            loginWrapper.hide();\r\n            emptyInput(usernameInput);\r\n            emptyInput(passwordInput);\r\n            emptyInput(usernameInputLogin);\r\n            emptyInput(passwordInputLogin);\r\n        });\r\n    }\r\n});\r\n\r\nfunction emptyInput(input) {\r\n    input.val(\"\");\r\n    input.siblings(\".highlight\").hide();\r\n    input.siblings(\".highlight\").css(\"background\", primaryColor);\r\n    input.siblings(\".prompt\").hide();\r\n}\r\n\r\n$(\".log-prompt\").click(function () {\r\n    $(\".log-form>div\").animate({height: \"toggle\", opacity: \"toggle\"}, 450);\r\n});\r\n\r\n//=========== Add comment to post ===========\\\\\r\n$(\".wrt-comment button\").on(\"click touch\", function () {\r\n    var postId = $(this).siblings(\"input\").val();\r\n    var commentField = $(this).siblings(\"textarea\");\r\n    var comment = commentField.val();\r\n    var userName = $(\".usr-name\").text();\r\n    if (comment.length === 0) {\r\n        return;\r\n    }\r\n    $.post(\"/posts/comments/add\", {postId: postId, comment: comment},\r\n        function () {\r\n            var commCount = $(\".comments p\");\r\n            commCount.text(\"Comments (\" + (+commCount.text().match(/\\d+/) + 1) + \"):\");\r\n            commCount.after(\r\n                \"<div class='comment'>\\n\" +\r\n                \"    <div class='comment-author'>\\n\" +\r\n                \"        <img src='/users/avatars/\" + userName + \"'\" + \" alt='\" + userName + \"'>\\n\" +\r\n                \"        <div class='com-auth-name'>\" + userName + \"</div>\\n\" +\r\n                \"    </div>\\n\" +\r\n                \"    <div class='comment-text'>\" + comment + \"</div>\\n\" +\r\n                \"</div>\");\r\n            commentField.val(\"\");\r\n            $(\".comm-count span\").text(+$(\".comm-count span\").text().match(/\\d+/) + 1);\r\n        });\r\n});\r\n\r\n//=========== Category page ajax load ===========\\\\\r\nvar sliceNumber = 1;\r\nvar hasNext = true;\r\nif ($(location).attr(\"pathname\").match(\"^/categories\")) {\r\n    var category = $(location).attr(\"pathname\").replace(\"/categories/\", '');\r\n    $(window).scroll(function () {\r\n        if (hasNext && $(window).scrollTop() + $(window).height() > $(document).height() - 50) {\r\n            $.get(\"/categories/\" + category + \"/slice\", {sliceNumber: sliceNumber},\r\n                function (slice) {\r\n                    if (slice === \"\") {\r\n                        $(\"#spinner\").hide();\r\n                        hasNext = false;\r\n                    }\r\n                    $(\".card:last-child\").after(slice);\r\n                });\r\n            sliceNumber++;\r\n        }\r\n    });\r\n}\r\n\r\n//========== Avatar preview on Sign up ==========\\\\\r\n$(\".avatar-upload input\").on(\"change\", function () {\r\n    if (this.files && this.files[0]) {\r\n        var reader = new FileReader();\r\n        reader.onload = function (e) {\r\n            $(\".avatar-upload img\").attr(\"src\", e.target.result);\r\n        };\r\n        reader.readAsDataURL(this.files[0]);\r\n    }\r\n});\r\n\r\n$(\".post-file input\").on(\"change\", function () {\r\n    if (this.files && this.files[0]) {\r\n        var reader = new FileReader();\r\n        reader.onload = function (e) {\r\n            $(\".file-prev\").attr(\"src\", e.target.result);\r\n        };\r\n        reader.readAsDataURL(this.files[0]);\r\n    }\r\n});\r\n\r\n//==================== Like =====================\\\\\r\n$body.on(\"click touch\", \".heart\", function () {\r\n    var numElement = $(this).siblings(\".like-num\");\r\n    var postId = $(this).parents(\".card,.article-container\").attr(\"data-post-id\");\r\n    if ($(this).hasClass(\"liked\")) {\r\n        $(this).toggleClass('liked not-liked');\r\n        $(this).removeClass('animating');\r\n        like(postId, false, numElement, -1);\r\n    } else {\r\n        $(this).addClass('animating');\r\n        like(postId, true, numElement, +1);\r\n    }\r\n});\r\n\r\nfunction like(postId, isLike, numElement, quantity) {\r\n    $.post(\"/posts/like\", {postId: postId, like: isLike},\r\n        function () {\r\n            numElement.text(+numElement.text() + quantity);\r\n        });\r\n}\r\n\r\n$body.on('animationend', \".heart\", function () {\r\n    $(this).toggleClass('not-liked liked');\r\n});\r\n\r\n//============== Side navigation ================\\\\\r\n$(\".hamburger-icon\").click(function () {\r\n    $(\".side-nav\").css({\"width\": \"240px\", \"max-width\": \"100%\"});\r\n});\r\n\r\n$(\".close-cat\").click(function () {\r\n    $(\".side-nav\").css(\"width\", \"0\");\r\n});\r\n\r\n//================= Share icon ==================\\\\\r\n$body.on(\"click\", \".share-icon\", function () {\r\n    var container = $(this).next();\r\n    if (container.css(\"visibility\") === \"visible\") {\r\n        $(this).css(\"fill\", \"#919da5\");\r\n        container.css({\r\n            \"opacity\": \"0\",\r\n            \"visibility\": \"hidden\",\r\n            \"transform\": \"translate(-20px, 0)\"\r\n        });\r\n    } else {\r\n        $(this).css(\"fill\", primaryColor);\r\n        container.css({\r\n            \"opacity\": \"1\",\r\n            \"visibility\": \"visible\",\r\n            \"transform\": \"translate(-20px, 10px)\"\r\n        });\r\n    }\r\n});\r\n\r\n$(window).click(function (ev) {\r\n    if (ev.target.tagName !== \"svg\" && ev.target.tagName !== \"path\") {\r\n        $(\".share-content\").each(function () {\r\n            if ($(this).is(\":visible\")) {\r\n                $(this).siblings(\".share-icon\").css(\"fill\", \"#919da5\");\r\n                $(this).css({\r\n                    \"opacity\": \"0\",\r\n                    \"visibility\": \"hidden\",\r\n                    \"transform\": \"translate(-20px, 0)\"\r\n                });\r\n            }\r\n        });\r\n    }\r\n});\r\n\r\n//============== Check existing userName ==================\\\\\r\nvar usernameInput = $(\".register-form input[name=username]\");\r\nvar passwordInput = $(\".register-form input[name=password]\");\r\nvar passRegex = /.*/;\r\n// /((?=.*\\d)(?=.*\\\\p{L}))./;\r\n// /(\\d+\\p{L}+|\\p{L}+\\d+)[\\d\\p{L}]*/;\r\n// /(\\d\\w*[a-zA-Z]\\w*)|([a-zA-Z]\\w*\\d\\w*)/;\r\n\r\n$(\".flat-inp\").focus(function () {\r\n    var content = $(this).val();\r\n    if (content === \"\") {\r\n        $(this).siblings(\".highlight\").fadeTo(180, 1);\r\n    }\r\n});\r\n\r\nfunction checkUserName(name, highlight) {\r\n    $.post(\"/users/check-username\", {name: name}, function (exists) {\r\n        if (exists) {\r\n            highlight.css(\"background\", \"#de1e26\");\r\n            highlight.fadeTo(200, 1);\r\n            usernameInput.siblings(\".prompt\").text(\"Already taken\");\r\n            usernameInput.siblings(\".prompt\").fadeTo(200, 1);\r\n        } else {\r\n            highlight.css(\"background\", \"#4CAF50\");\r\n            highlight.fadeTo(200, 1);\r\n            usernameInput.siblings(\".prompt\").fadeTo(200, 0);\r\n        }\r\n    });\r\n}\r\n\r\nusernameInput.blur(function () {\r\n    var name = usernameInput.val();\r\n    var highlight = usernameInput.siblings(\".highlight\");\r\n    if (name === \"\") {\r\n        highlight.fadeTo(200, 0, function () {\r\n            highlight.css(\"background\", primaryColor);\r\n        });\r\n        usernameInput.siblings(\".prompt\").fadeTo(200, 0);\r\n    } else {\r\n        checkUserName(name, highlight);\r\n    }\r\n});\r\n\r\npasswordInput.blur(function () {\r\n    var pass = passwordInput.val();\r\n    var highlight = passwordInput.siblings(\".highlight\");\r\n    if (pass.length === 0) {\r\n        highlight.fadeTo(180, 0, function () {\r\n            highlight.css(\"background\", primaryColor);\r\n        });\r\n        passwordInput.siblings(\".prompt\").fadeTo(200, 0);\r\n    } else if (pass.length < 6 || !passRegex.test(pass)) {\r\n        highlight.fadeTo(200, 1);\r\n        highlight.css(\"background\", \"#de1e26\");\r\n        if (pass.length < 6) {\r\n            passwordInput.siblings(\".prompt\").text(\"Too short\");\r\n        } else {\r\n            passwordInput.siblings(\".prompt\").text(\"Invalid\");\r\n        }\r\n        passwordInput.siblings(\".prompt\").fadeTo(200, 1);\r\n    } else {\r\n        highlight.fadeTo(200, 1);\r\n        highlight.css(\"background\", \"#4CAF50\");\r\n        passwordInput.siblings(\".prompt\").fadeTo(200, 0);\r\n    }\r\n});\r\n\r\n$(\".register-form\").submit(function () {\r\n    var submit = true;\r\n    var name = usernameInput.val();\r\n    var pass = passwordInput.val();\r\n    var nameHighlight = usernameInput.siblings(\".highlight\");\r\n    var passHighlight = passwordInput.siblings(\".highlight\");\r\n    if (name.length === 0) {\r\n        nameHighlight.css(\"background\", \"#de1e26\");\r\n        nameHighlight.fadeTo(200, 1);\r\n        usernameInput.siblings(\".prompt\").text(\"Required\");\r\n        usernameInput.siblings(\".prompt\").fadeTo(200, 1);\r\n        submit = false;\r\n    }\r\n    if (pass.length === 0) {\r\n        passHighlight.css(\"background\", \"#de1e26\");\r\n        passHighlight.fadeTo(200, 1);\r\n        passwordInput.siblings(\".prompt\").text(\"Required\");\r\n        passwordInput.siblings(\".prompt\").fadeTo(200, 1);\r\n        submit = false;\r\n    } else if (!passRegex.test(pass)) {\r\n        passHighlight.css(\"background\", \"#de1e26\");\r\n        passHighlight.fadeTo(200, 1);\r\n        passwordInput.siblings(\".prompt\").text(\"Invalid\");\r\n        passwordInput.siblings(\".prompt\").fadeTo(200, 1);\r\n        submit = false;\r\n    }\r\n    return submit;\r\n});\r\n\r\n//======== attach csrf header to every AJAX POST request =========\\\\\r\nvar token = $(\"meta[name='_csrf']\").attr(\"content\");\r\nvar header = $(\"meta[name='_csrf_header']\").attr(\"content\");\r\n$(document).ajaxSend(function (e, xhr) {\r\n    xhr.setRequestHeader(header, token);\r\n});\r\n\r\n//======================== AJAX login ======================\r\nvar usernameInputLogin = $(\".login-form .input:nth-child(1) input\");\r\nvar passwordInputLogin = $(\".login-form .input:nth-child(2) input\");\r\n\r\nusernameInputLogin.blur(function () {\r\n    var name = usernameInputLogin.val();\r\n    var highlight = usernameInputLogin.siblings(\".highlight\");\r\n    if (name.length === 0) {\r\n        highlight.fadeTo(200, 0, function () {\r\n            highlight.css(\"background\", primaryColor);\r\n        });\r\n        usernameInputLogin.siblings(\".prompt\").fadeTo(200, 0);\r\n    }\r\n});\r\n\r\npasswordInputLogin.blur(function () {\r\n    var pass = passwordInputLogin.val();\r\n    var highlight = passwordInputLogin.siblings(\".highlight\");\r\n    if (pass.length === 0) {\r\n        highlight.fadeTo(200, 0, function () {\r\n            highlight.css(\"background\", primaryColor);\r\n        });\r\n        passwordInputLogin.siblings(\".prompt\").fadeTo(200, 0);\r\n    }\r\n});\r\n\r\n$(\".login-form button\").on(\"click touch\", function () {\r\n    var submit = true;\r\n    var name = usernameInputLogin.val();\r\n    var pass = passwordInputLogin.val();\r\n    var rememberMe = $(\"input[name=remember-me]\").prop(\"checked\");\r\n    var nameHighlight = usernameInputLogin.siblings(\".highlight\");\r\n    var passHighlight = passwordInputLogin.siblings(\".highlight\");\r\n    if (name.length === 0) {\r\n        nameHighlight.css(\"background\", \"#de1e26\");\r\n        nameHighlight.fadeTo(200, 1);\r\n        usernameInputLogin.siblings(\".prompt\").text(\"Required\");\r\n        usernameInputLogin.siblings(\".prompt\").fadeTo(200, 1);\r\n        submit = false;\r\n    }\r\n    if (pass.length === 0) {\r\n        passHighlight.css(\"background\", \"#de1e26\");\r\n        passHighlight.fadeTo(200, 1);\r\n        passwordInputLogin.siblings(\".prompt\").text(\"Required\");\r\n        passwordInputLogin.siblings(\".prompt\").fadeTo(200, 1);\r\n        submit = false;\r\n    }\r\n    if (submit) {\r\n        $.post(\"/login\", {username: name, password: pass, rememberMe: rememberMe},\r\n            function (successful) {\r\n                if (successful) {\r\n                    location.reload();\r\n                } else {\r\n                    $(\".invalid-login\").fadeTo(200, 1);\r\n                }\r\n            }\r\n        );\r\n    }\r\n});\r\n\r\n//========= logout ========\\\\\r\n$(\".logout\").on(\"click touch\", function () {\r\n    $(this).parent().submit();\r\n});\r\n\r\n$body.on(\"click touch\", \".ply-btn\", function () {\r\n    var video = $(this).siblings(\"video\")[0];\r\n    var button = $(this);\r\n\r\n    if (video.paused) {\r\n        video.play();\r\n        setTimeout(function () {\r\n            if (!button.is(\":hover\")) {\r\n                button.fadeTo(200, 0);\r\n            }\r\n        }, 1000);\r\n    } else {\r\n        video.pause();\r\n        $(this).fadeTo(80, 1);\r\n    }\r\n});\r\n\r\n$body.on(\"mouseover\", \".ply-btn\", function () {\r\n    $(this).fadeTo(60, 1);\r\n});\r\n\r\n$body.on(\"mouseleave\", \".ply-btn\", function () {\r\n    $(this).fadeTo(60, 1);\r\n    var button = $(this);\r\n    var video = $(this).siblings(\"video\")[0];\r\n    if (!video.paused) {\r\n        setTimeout(function () {\r\n            if (!button.is(\":hover\")) {\r\n                button.fadeTo(80, 0);\r\n            }\r\n        }, 300);\r\n    }\r\n});\r\n\r\n$body.on(\"click touch\", \".ply-btn\", function () {\r\n    $(this).find(\".ply-ico\").toggleClass(\"ply-ico-active\");\r\n});\r\n\r\ndocument.addEventListener(\"timeupdate\", function (e) { // supports dynamically inserted videos as well\r\n    var video = $(e.target);\r\n    var progressBar = video.siblings(\"progress\");\r\n    var percent = video[0].currentTime / video[0].duration * 100;\r\n    progressBar.stop().animate({value: percent}, (percent === 0) ? 100 : 400);\r\n}, true);\r\n\r\n//================= submit post =================\\\\\r\n$(\"#post-submit\").submit(function () {\r\n    var submit = true;\r\n    $(\".input-np\").each(function () {\r\n        var input = $(this).find(\"input, textarea\").val();\r\n        if (input.length === 0) {\r\n            var highlight = $(this).find(\".highlight-np\");\r\n            highlight.css(\"background\", \"#de1e26\");\r\n            highlight.fadeTo(200, 1);\r\n            $(this).find(\".prompt\").fadeTo(200, 1);\r\n            submit = false;\r\n        }\r\n    });\r\n    return submit;\r\n});\r\n\r\n$(\".input-np\").on(\"change\", function () {\r\n    var input = $(this).find(\"input, textarea\").val();\r\n    if (input.length !== 0) {\r\n        var highlight = $(this).find(\".highlight-np\");\r\n        highlight.fadeTo(200, 0);\r\n        $(this).find(\".prompt\").fadeTo(200, 0);\r\n    }\r\n});\r\n\r\n//================= pin, delete & report post, change cats ==================\\\\\r\n// $(\".pin-icon\").on(\"click touch\", function () {\r\n//     var postId = $(\".article-container\").attr(\"data-post-id\");\r\n//     var url = window.location.href;\r\n//     $.post(\"/posts/pin\", {postId: postId}, function (successful) {\r\n//         window.location.href = url;\r\n//     });\r\n// });\r\n\r\n$(\".actions form\").submit(function () {\r\n    // proceed only if the icon doesn't have \"disabled\" class\r\n    // (that is the user is logged in and has an appropriate role)\r\n    return !($(this).find(\"svg\").hasClass(\"disabled\"));\r\n});\r\n\r\n// $(\".del-icon\").on(\"click touch\", function () {\r\n//     var postId = $(\".article-container\").attr(\"data-post-id\");\r\n//     $.post(\"/posts/delete\", {postId: postId}, function (successful) {\r\n//         if (successful) {\r\n//             //\r\n//         }\r\n//     });\r\n// });\r\n\r\n// $(\".rep-icon\").on(\"click touch\", function () {\r\n//     var postId = $(\".article-container\").attr(\"data-post-id\");\r\n//     $.post(\"/posts/report\", {postId: postId}, function (successful) {\r\n//         if (successful) {\r\n//             //\r\n//         }\r\n//     });\r\n// });\r\n\r\n$(\".chng-cats-icon\").on(\"click touch\", function () {\r\n    var userName = $(\".usr-name\").text(); // just to check if user is logged in\r\n    if (!userName) {\r\n        return;\r\n    }\r\n    var container = $(this).next();\r\n    if (container.css(\"visibility\") === \"visible\") {\r\n        $(this).css(\"fill\", \"#919da5\");\r\n        container.css({\r\n            \"opacity\": \"0\",\r\n            \"visibility\": \"hidden\",\r\n            \"transform\": \"translate(-20px, 0)\"\r\n        });\r\n    } else {\r\n        $(this).css(\"fill\", primaryColor);\r\n        container.css({\r\n            \"opacity\": \"1\",\r\n            \"visibility\": \"visible\",\r\n            \"transform\": \"translate(-20px, 10px)\"\r\n        });\r\n    }\r\n});\r\n\r\n$(\".cat-del-ico\").on(\"click touch\", function () {\r\n    var postId = $(\".article-container\").attr(\"data-post-id\");\r\n    var catName = $(this).siblings(\".changeable-cat\").text();\r\n    var toRemove = $(this).parent();\r\n    $.post(\"/categories/delete\", {postId: postId, catName: catName},\r\n        function () {\r\n            toRemove.remove();\r\n        });\r\n});\r\n\r\n$(\".cat-add-ico\").on(\"click touch\", function () {\r\n    var postId = $(\".article-container\").attr(\"data-post-id\");\r\n    var catName = $(\".cat-add-inp\").val();\r\n    $.post(\"/categories/add\", {postId: postId, catName: catName},\r\n        function () {\r\n            $(\".cat-del:last-of-type\").after(\r\n                \"<a class=\\\"cat-del\\\">\" +\r\n                \"<div class=\\\"changeable-cat chip\\\">\" + catName + \"</div>\" +\r\n                \"<div class=\\\"cat-del-ico\\\">&times;</div>\" +\r\n                \"</a>\");\r\n        });\r\n});\r\n\r\n//======= change language =========\\\\\r\n$(\".lang\").on(\"click touch\", function () {\r\n    let searchParams = new URLSearchParams(window.location.search); // NOTE: IE is not supported\r\n    var lang = $(this).attr(\"data-lang-name\");\r\n    searchParams.set(\"lang\", lang);\r\n    location.replace(\"?\" + searchParams.toString());\r\n});\r\n\r\n//======= change theme ========\\\\\r\n$(\".theme\").on(\"click touch\", function () {\r\n    let searchParams = new URLSearchParams(window.location.search); // NOTE: IE is not supported\r\n    var theme = $(this).attr(\"data-theme-name\");\r\n    searchParams.set(\"theme\", theme);\r\n    location.replace(\"?\" + searchParams.toString());\r\n});\r\n\r\n//================ SSE streams ================\\\\\r\n$(document).ready(function () {\r\n    var userName = $(\"nav .usr-name\").text();\r\n    if (userName.length === 0) return;\r\n    var source = new EventSource(\"/likes/\" + userName + \"/stream\");\r\n    source.onmessage = function (event) {\r\n        var likeEvent = JSON.parse(event.data);\r\n        showPrompt(\"One of your posts was \" + likeEvent.message)\r\n    };\r\n});\r\n"]}