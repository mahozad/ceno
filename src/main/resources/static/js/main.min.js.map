{"version":3,"sources":["main.js"],"names":[],"mappings":"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","file":"main.min.js","sourcesContent":["const $body = $(\"body\");\r\nconst $pagePrompt = $(\".page-prompt\");\r\nconst themeColor = $(\"html\").css(\"--primary-color\");\r\n\r\nenableCSSAnimations();\r\nshowCookieConsentMessage();\r\n\r\nfunction showCookieConsentMessage() {\r\n    if (!localStorage.isCookieConsentMessageShown) {\r\n        showPrompt(\"Ceno uses cookies to provide the best browsing experience for you\");\r\n    }\r\n    localStorage.isCookieConsentMessageShown = false;\r\n}\r\n\r\nfunction enableCSSAnimations() {\r\n    // This should be done after the page is fully loaded;\r\n    // we know that the page is fully loaded because the script is deferred.\r\n    $body.removeClass(\"preload\");\r\n}\r\n\r\nfunction showPrompt(message) {\r\n    // Remove the prompt from page if it already exists\r\n    if ($pagePrompt.length > 0) $pagePrompt.remove();\r\n\r\n    let pagePromptHTML =\r\n        `<div class=\"page-prompt\">\r\n             <div class=\"page-prompt-text\">${message}</div>\r\n         </div>`;\r\n\r\n    $(\"main\").prepend(pagePromptHTML);\r\n}\r\n\r\n//================= Login modal =================\\\\\r\nvar closeBtn = $(\".close\");\r\nvar loginDialog = $(\"#login-dialog\");\r\nvar loginWrapper = $(\"#login-wrapper\");\r\nvar registerWrapper = $(\"#register-wrapper\");\r\n\r\n$(\"#log-in\").on(\"click touch\", () => showModal(loginWrapper, registerWrapper));\r\n$(\"#sign-up\").on(\"click touch\", () => showModal(registerWrapper, loginWrapper));\r\n\r\nfunction showModal(toShow, toHide) {\r\n    toHide.hide();\r\n    loginDialog.show();\r\n    toShow.slideDown(350);\r\n}\r\n\r\n$(window).add(closeBtn).click(function (event) {\r\n    if (event.target === loginDialog[0] || event.target === closeBtn[0]) { // Required check\r\n        loginDialog.fadeOut(200, function () {\r\n            registerWrapper.hide();\r\n            loginWrapper.hide();\r\n            emptyInput(usernameInput);\r\n            emptyInput(passwordInput);\r\n            emptyInput(usernameInputLogin);\r\n            emptyInput(passwordInputLogin);\r\n        });\r\n    }\r\n});\r\n\r\nfunction emptyInput(input) {\r\n    input.val(\"\");\r\n    input.siblings(\".highlight\").hide().css({background: themeColor});\r\n    input.siblings(\".prompt\").hide();\r\n}\r\n\r\n$(\".log-prompt\").on(\"click touch\", () => {\r\n    $(\".log-form>div\").animate({height: \"toggle\", opacity: \"toggle\"}, 450);\r\n});\r\n\r\n//=========== Add comment to post ===========\\\\\r\n$(\".wrt-comment button\").on(\"click touch\", function () {\r\n    var postId = $(this).siblings(\"input\").val();\r\n    var commentField = $(this).siblings(\"textarea\");\r\n    var comment = commentField.val();\r\n    var userName = $(\".usr-name\").text();\r\n    if (comment.length === 0) {\r\n        return;\r\n    }\r\n    $.post(\"/posts/comments/add\", {postId: postId, comment: comment},\r\n        function () {\r\n            var commCount = $(\".comments p\");\r\n            commCount.text((_, oldVal) => `Comments (${Number(oldVal.match(/\\d+/)) + 1}):`);\r\n            commCount.after(\r\n                `<div class=\"comment\">\r\n                     <div class=\"comment-author\">\r\n                         <img src=\"/users/avatars/${userName}\" alt=\"${userName}\">\r\n                         <div class=\"com-auth-name\">${userName}</div>\r\n                     </div>\r\n                     <div class=\"comment-text\">${comment}</div>\r\n                 </div>`\r\n            );\r\n            commentField.val(\"\");\r\n            // FIXME: This and the above cmmCount.text(...) don't work correctly.\r\n            //  Try when there is no or 1 comment for the post and see what happens.\r\n            $(\".comm-count span\").text((_, oldVal) => Number(oldVal) + 1);\r\n        });\r\n});\r\n\r\n//=========== Category page ajax load ===========\\\\\r\nvar sliceNumber = 1;\r\nvar hasNext = true;\r\nif ($(location).attr(\"pathname\").match(\"^/categories\")) {\r\n    var category = $(location).attr(\"pathname\").replace(\"/categories/\", \"\");\r\n    $(window).scroll(function () {\r\n        if (hasNext && $(window).scrollTop() + $(window).height() > $(document).height() - 50) {\r\n            $.get(`/categories/${category}/slice`, {sliceNumber: sliceNumber}, slice => {\r\n                if (slice === \"\") {\r\n                    $(\"#spinner\").hide();\r\n                    hasNext = false;\r\n                }\r\n                $(\".card:last-child\").after(slice);\r\n            });\r\n            sliceNumber++;\r\n        }\r\n    });\r\n}\r\n\r\n//========== Avatar preview on Sign up ==========\\\\\r\n$(\".avatar-upload input\").on(\"change\", function () {\r\n    if (this.files && this.files[0]) {\r\n        var reader = new FileReader();\r\n        reader.onload = e => $(\".avatar-upload img\").attr(\"src\", e.target.result);\r\n        reader.readAsDataURL(this.files[0]);\r\n    }\r\n});\r\n\r\n$(\".post-file input\").on(\"change\", function () {\r\n    if (this.files && this.files[0]) {\r\n        var reader = new FileReader();\r\n        reader.onload = e => $(\".file-prev\").attr(\"src\", e.target.result);\r\n        reader.readAsDataURL(this.files[0]);\r\n    }\r\n});\r\n\r\n//==================== Like =====================\\\\\r\n$body.on(\"click touch\", \".heart\", function () {\r\n    var numElement = $(this).siblings(\".like-num\");\r\n    var postId = $(this).parents(\".card,.article-container\").attr(\"data-post-id\");\r\n    if ($(this).hasClass(\"liked\")) {\r\n        $(this).toggleClass('liked not-liked');\r\n        $(this).removeClass('animating');\r\n        like(postId, false, numElement, -1);\r\n    } else {\r\n        $(this).addClass('animating');\r\n        like(postId, true, numElement, +1);\r\n    }\r\n});\r\n\r\nfunction like(postId, isLike, numElement, quantity) {\r\n    $.post(\"/posts/like\", {postId: postId, like: isLike},\r\n        function () {\r\n            numElement.text(+numElement.text() + quantity);\r\n        });\r\n}\r\n\r\n$body.on('animationend', \".heart\", function () {\r\n    $(this).toggleClass('not-liked liked');\r\n});\r\n\r\n//============== Side navigation ================\\\\\r\n$(\".hamburger-icon\").on(\"click touch\", () => {\r\n    $(\".side-nav\").css({width: \"240px\", maxWidth: \"100%\"});\r\n});\r\n\r\n$(\".close-cat\").on(\"click touch\", () => $(\".side-nav\").css({width: \"0\"}));\r\n\r\n//================= Share icon ==================\\\\\r\n$body.on(\"click touch\", \".share-icon\", function () {\r\n    var container = $(this).next();\r\n    if (container.css(\"visibility\") === \"visible\") {\r\n        $(this).css({fill: \"#919da5\"});\r\n        container.css({\r\n            opacity: \"0\",\r\n            visibility: \"hidden\",\r\n            transform: \"translate(-20px, 0)\"\r\n        });\r\n    } else {\r\n        $(this).css({fill: themeColor});\r\n        container.css({\r\n            opacity: \"1\",\r\n            visibility: \"visible\",\r\n            transform: \"translate(-20px, 10px)\"\r\n        });\r\n    }\r\n});\r\n\r\n$(window).click(function (ev) {\r\n    if (ev.target.tagName !== \"svg\" && ev.target.tagName !== \"path\") {\r\n        $(\".share-content\").each(function () {\r\n            if ($(this).is(\":visible\")) {\r\n                $(this).siblings(\".share-icon\").css({fill: \"#919da5\"});\r\n                $(this).css({\r\n                    opacity: \"0\",\r\n                    visibility: \"hidden\",\r\n                    transform: \"translate(-20px, 0)\"\r\n                });\r\n            }\r\n        });\r\n    }\r\n});\r\n\r\n//============== Check existing userName ==================\\\\\r\nvar usernameInput = $(\".register-form input[name=username]\");\r\nvar passwordInput = $(\".register-form input[name=password]\");\r\nvar passRegex = /.*/;\r\n// /((?=.*\\d)(?=.*\\\\p{L}))./;\r\n// /(\\d+\\p{L}+|\\p{L}+\\d+)[\\d\\p{L}]*/;\r\n// /(\\d\\w*[a-zA-Z]\\w*)|([a-zA-Z]\\w*\\d\\w*)/;\r\n\r\n$(\".flat-inp\").focus(function () {\r\n    var content = $(this).val();\r\n    if (content === \"\") {\r\n        $(this).siblings(\".highlight\").fadeTo(180, 1);\r\n    }\r\n});\r\n\r\nfunction checkUserName(name, highlight) {\r\n    $.post(\"/users/check-username\", {name: name}, function (exists) {\r\n        if (exists) {\r\n            highlight.css({background: \"#de1e26\"}).fadeTo(200, 1);\r\n            usernameInput.siblings(\".prompt\").text(\"Already taken\").fadeTo(200, 1);\r\n        } else {\r\n            highlight.css({background: \"#4CAF50\"}).fadeTo(200, 1);\r\n            usernameInput.siblings(\".prompt\").fadeTo(200, 0);\r\n        }\r\n    });\r\n}\r\n\r\nusernameInput.blur(function () {\r\n    var name = usernameInput.val();\r\n    var highlight = usernameInput.siblings(\".highlight\");\r\n    if (name === \"\") {\r\n        highlight.fadeTo(200, 0, () => highlight.css({background: themeColor}));\r\n        usernameInput.siblings(\".prompt\").fadeTo(200, 0);\r\n    } else {\r\n        checkUserName(name, highlight);\r\n    }\r\n});\r\n\r\npasswordInput.blur(function () {\r\n    var pass = passwordInput.val();\r\n    var highlight = passwordInput.siblings(\".highlight\");\r\n    if (pass.length === 0) {\r\n        highlight.fadeTo(180, 0, () => highlight.css({background: themeColor}));\r\n        passwordInput.siblings(\".prompt\").fadeTo(200, 0);\r\n    } else if (pass.length < 6 || !passRegex.test(pass)) {\r\n        highlight.css({background: \"#de1e26\"}).fadeTo(200, 1);\r\n        passwordInput.siblings(\".prompt\").text(`${pass.length < 6 ? \"Too short\" : \"Invalid\"}`).fadeTo(200, 1);\r\n    } else {\r\n        highlight.css({background: \"#4CAF50\"}).fadeTo(200, 1);\r\n        passwordInput.siblings(\".prompt\").fadeTo(200, 0);\r\n    }\r\n});\r\n\r\n$(\".register-form\").submit(function () {\r\n    var submit = true;\r\n    var name = usernameInput.val();\r\n    var pass = passwordInput.val();\r\n    var nameHighlight = usernameInput.siblings(\".highlight\");\r\n    var passHighlight = passwordInput.siblings(\".highlight\");\r\n    if (name.length === 0) {\r\n        nameHighlight.css({background: \"#de1e26\"}).fadeTo(200, 1);\r\n        usernameInput.siblings(\".prompt\").text(\"Required\").fadeTo(200, 1);\r\n        submit = false;\r\n    }\r\n    if (pass.length === 0) {\r\n        passHighlight.css({background: \"#de1e26\"}).fadeTo(200, 1);\r\n        passwordInput.siblings(\".prompt\").text(\"Required\").fadeTo(200, 1);\r\n        submit = false;\r\n    } else if (!passRegex.test(pass)) {\r\n        passHighlight.css({background: \"#de1e26\"}).fadeTo(200, 1);\r\n        passwordInput.siblings(\".prompt\").text(\"Invalid\").fadeTo(200, 1);\r\n        submit = false;\r\n    }\r\n    return submit;\r\n});\r\n\r\n//======== Attach csrf header to every AJAX POST request =========\\\\\r\n// var token = $(`meta[name=\"_csrf\"]`).attr(\"content\");\r\n// var header = $(`meta[name=\"_csrf_header\"]`).attr(\"content\");\r\n// $(document).ajaxSend((e, xhr) => xhr.setRequestHeader(header, token));\r\n\r\n//======================== AJAX login ======================\r\nvar usernameInputLogin = $(\".login-form .input:nth-child(1) input\");\r\nvar passwordInputLogin = $(\".login-form .input:nth-child(2) input\");\r\n\r\nusernameInputLogin.on(\"blur\", () => {\r\n    var name = usernameInputLogin.val();\r\n    var highlight = usernameInputLogin.siblings(\".highlight\");\r\n    if (name.length === 0) {\r\n        highlight.fadeTo(200, 0, () => highlight.css({background: themeColor}));\r\n        usernameInputLogin.siblings(\".prompt\").fadeTo(200, 0);\r\n    }\r\n});\r\n\r\npasswordInputLogin.on(\"blur\", () => {\r\n    var pass = passwordInputLogin.val();\r\n    var highlight = passwordInputLogin.siblings(\".highlight\");\r\n    if (pass.length === 0) {\r\n        highlight.fadeTo(200, 0, () => highlight.css({background: themeColor}));\r\n        passwordInputLogin.siblings(\".prompt\").fadeTo(200, 0);\r\n    }\r\n});\r\n\r\n$(\".login-form button\").on(\"click touch\", function () {\r\n    var submit = true;\r\n    var name = usernameInputLogin.val();\r\n    var pass = passwordInputLogin.val();\r\n    var rememberMe = $(\"input[name=remember-me]\").prop(\"checked\");\r\n    var nameHighlight = usernameInputLogin.siblings(\".highlight\");\r\n    var passHighlight = passwordInputLogin.siblings(\".highlight\");\r\n    if (name.length === 0) {\r\n        nameHighlight.css({background: \"#de1e26\"}).fadeTo(200, 1);\r\n        usernameInputLogin.siblings(\".prompt\").text(\"Required\").fadeTo(200, 1);\r\n        submit = false;\r\n    }\r\n    if (pass.length === 0) {\r\n        passHighlight.css({background: \"#de1e26\"}).fadeTo(200, 1);\r\n        passwordInputLogin.siblings(\".prompt\").text(\"Required\").fadeTo(200, 1);\r\n        submit = false;\r\n    }\r\n    if (submit) {\r\n        $.post(\"/login\", {username: name, password: pass, rememberMe: rememberMe}, successful => {\r\n                if (successful) location.reload(); else $(\".invalid-login\").fadeTo(200, 1);\r\n            }\r\n        );\r\n    }\r\n});\r\n\r\n//========= logout ========\\\\\r\n$(\".logout\").on(\"click touch\", function () {\r\n    $(this).parent().submit();\r\n});\r\n\r\n$body.on(\"click touch\", \".ply-btn\", function () {\r\n    var video = $(this).siblings(\"video\")[0];\r\n    var button = $(this);\r\n\r\n    if (video.paused) {\r\n        video.play();\r\n        setTimeout(() => {\r\n            if (!button.is(\":hover\")) button.fadeTo(200, 0);\r\n        }, 1000);\r\n    } else {\r\n        video.pause();\r\n        $(this).fadeTo(80, 1);\r\n    }\r\n});\r\n\r\n$body.on(\"mouseover\", \".ply-btn\", function () {\r\n    $(this).fadeTo(60, 1);\r\n});\r\n\r\n$body.on(\"mouseleave\", \".ply-btn\", function () {\r\n    $(this).fadeTo(60, 1);\r\n    var button = $(this);\r\n    var video = $(this).siblings(\"video\")[0];\r\n    if (!video.paused) {\r\n        setTimeout(() => {\r\n            if (!button.is(\":hover\")) button.fadeTo(80, 0);\r\n        }, 300);\r\n    }\r\n});\r\n\r\n$body.on(\"click touch\", \".ply-btn\", function () {\r\n    $(this).find(\".ply-ico\").toggleClass(\"ply-ico-active\");\r\n});\r\n\r\ndocument.addEventListener(\"timeupdate\", e => { // supports dynamically inserted videos as well\r\n    var video = $(e.target);\r\n    var progressBar = video.siblings(\"progress\");\r\n    var percent = video[0].currentTime / video[0].duration * 100;\r\n    progressBar.stop().animate({value: percent}, (percent === 0) ? 100 : 400);\r\n}, true);\r\n\r\n//================= submit post =================\\\\\r\n$(\"#post-submit\").submit(function () {\r\n    var submit = true;\r\n    $(\".input-np\").each(function () {\r\n        var input = $(this).find(\"input, textarea\").val();\r\n        if (input.length === 0) {\r\n            var highlight = $(this).find(\".highlight-np\");\r\n            highlight.css({background: \"#de1e26\"}).fadeTo(200, 1);\r\n            $(this).find(\".prompt\").fadeTo(200, 1);\r\n            submit = false;\r\n        }\r\n    });\r\n    return submit;\r\n});\r\n\r\n$(\".input-np\").on(\"change\", function () {\r\n    var input = $(this).find(\"input, textarea\").val();\r\n    if (input.length !== 0) {\r\n        var highlight = $(this).find(\".highlight-np\");\r\n        highlight.fadeTo(200, 0);\r\n        $(this).find(\".prompt\").fadeTo(200, 0);\r\n    }\r\n});\r\n\r\n//================= pin, delete & report post, change cats ==================\\\\\r\n// $(\".pin-icon\").on(\"click touch\", function () {\r\n//     var postId = $(\".article-container\").attr(\"data-post-id\");\r\n//     var url = window.location.href;\r\n//     $.post(\"/posts/pin\", {postId: postId}, function (successful) {\r\n//         window.location.href = url;\r\n//     });\r\n// });\r\n\r\n$(\".actions form\").submit(function () {\r\n    // proceed only if the icon doesn't have \"disabled\" class\r\n    // (that is the user is logged in and has an appropriate role)\r\n    return !($(this).find(\"svg\").hasClass(\"disabled\"));\r\n});\r\n\r\n// $(\".del-icon\").on(\"click touch\", function () {\r\n//     var postId = $(\".article-container\").attr(\"data-post-id\");\r\n//     $.post(\"/posts/delete\", {postId: postId}, function (successful) {\r\n//         if (successful) {\r\n//             //\r\n//         }\r\n//     });\r\n// });\r\n\r\n// $(\".rep-icon\").on(\"click touch\", function () {\r\n//     var postId = $(\".article-container\").attr(\"data-post-id\");\r\n//     $.post(\"/posts/report\", {postId: postId}, function (successful) {\r\n//         if (successful) {\r\n//             //\r\n//         }\r\n//     });\r\n// });\r\n\r\n$(\".chng-cats-icon\").on(\"click touch\", function () {\r\n    var userName = $(\".usr-name\").text(); // just to check if user is logged in\r\n    if (!userName) return;\r\n\r\n    var container = $(this).next();\r\n    if (container.css(\"visibility\") === \"visible\") {\r\n        $(this).css({fill: \"#919da5\"});\r\n        container.css({\r\n            opacity: \"0\",\r\n            visibility: \"hidden\",\r\n            transform: \"translate(-20px, 0)\"\r\n        });\r\n    } else {\r\n        $(this).css({fill: themeColor});\r\n        container.css({\r\n            opacity: \"1\",\r\n            visibility: \"visible\",\r\n            transform: \"translate(-20px, 10px)\"\r\n        });\r\n    }\r\n});\r\n\r\n$(\".cat-del-ico\").on(\"click touch\", function () {\r\n    var postId = $(\".article-container\").attr(\"data-post-id\");\r\n    var catName = $(this).siblings(\".changeable-cat\").text();\r\n    var toRemove = $(this).parent();\r\n    $.post(\"/categories/delete\", {postId: postId, catName: catName}, () => toRemove.remove());\r\n});\r\n\r\n$(\".cat-add-ico\").on(\"click touch\", function () {\r\n    var postId = $(\".article-container\").attr(\"data-post-id\");\r\n    var catName = $(\".cat-add-inp\").val();\r\n    $.post(\"/categories/add\", {postId: postId, catName: catName}, () => {\r\n            $(\".cat-del:last-of-type\").after(\r\n                `<a class=\"cat-del\">\r\n                     <div class=\"changeable-cat chip\">${catName}</div>\r\n                     <div class=\"cat-del-ico\">&times;</div>\r\n                 </a>`\r\n            );\r\n        }\r\n    );\r\n});\r\n\r\n//======= change language =========\\\\\r\n$(\".lang\").on(\"click touch\", function () {\r\n    let searchParams = new URLSearchParams(window.location.search); // NOTE: IE is not supported\r\n    var lang = $(this).data(\"lang-name\");\r\n    searchParams.set(\"lang\", lang);\r\n    location.replace(`?${searchParams.toString()}`);\r\n});\r\n\r\n//======= change theme ========\\\\\r\n$(\".theme\").on(\"click touch\", function () {\r\n    let searchParams = new URLSearchParams(window.location.search); // NOTE: IE is not supported\r\n    var theme = $(this).data(\"theme-name\");\r\n    searchParams.set(\"theme\", theme);\r\n    location.replace(`?${searchParams.toString()}`);\r\n});\r\n\r\n//================ SSE streams ================\\\\\r\n$(document).ready(function () {\r\n    var userName = $(\"nav .usr-name\").text();\r\n    if (userName.length === 0) return;\r\n\r\n    var source = new EventSource(`/likes/${userName}/stream`);\r\n    source.onmessage = event => {\r\n        var likeEvent = JSON.parse(event.data);\r\n        showPrompt(`One of your posts was ${likeEvent.message}`)\r\n    };\r\n});\r\n"]}